["```js\n<body>\n <div id=\"lendlib\">\n    <div id=\"categories-container\">\n      {{> categories}}\n    </div>   \n <div id=\"list\">\n {{> list}} \n </div> \n </div> \n</body>\n```", "```js\n<template name=\"list\"> \n <ul id=\"lending_list\"> \n {{#each items}} \n <li class=\"lending_item alert\"> \n <button type=\"button\" class=\"close delete_item\" id=\"{{Name}}\">×</button>\n\n {{Name}}\n\n {{#if lendee_editing}} \n <input type=\"text\" id=\"edit_lendee\" class=\"span2 pull-right\" value=\"\"/> \n {{else}} \n <div class=\"lendee pull-right label {{LendClass}}\"> {{Lendee}}</div> \n {{/if}} \n </li> \n {{/each}} \n {{#if list_selected}}\n <li class=\"alert-success\" id=\"btnAddItem\">&plus; \n {{#if list_adding}}\n <input class=\"span4\" id=\"item_to_add\" size=\"32\" type=\"text\"> \n {{/if}} \n </li> \n {{/if}} \n </ul> \n</template>\n\n```", "```js\n<template name=\"list\"> \n <ul id=\"lending_list\"> \n {{#each items}}\n...\n\n```", "```js\n <li class=\"lending_item alert\"> \n <button type=\"button\" class=\"close delete_item\" id=\"{{Name}}\">×</button> \n\n {{Name}}\n\n```", "```js\n {{#if lendee_editing}} \n <input type=\"text\" id=\"edit_lendee\" class=\"span2 pull-right\" value=\"\"/> \n {{else}} \n <div class=\"lendee pull-right label {{LendClass}}\"> {{Lendee}}</div> \n {{/if}} \n </li>\n {{/each}}\n\n```", "```js\n {{#if list_selected}} \n <li class=\"alert-success\" id=\"btnAddItem\">&plus; \n {{#if list_adding}} \n <input class=\"span4\" id=\"item_to_add\" size=\"32\" type=\"text\"> \n {{/if}} \n </li> \n {{/if}} \n </ul> \n</template>\n\n```", "```js\n> lists.insert({Category:\"DVDs\", items: [{Name:\"Mission Impossible\",Owner:\"me\",LentTo:\"Alice\"}]});\n```", "```js\nItems: [...]\n```", "```js\n};//<-----This is the end tag for focusText() -----\n\nTemplate.list.items = function () {\n if (Session.equals('current_list',null)) return null; \n else \n { \n var cats = lists.findOne({_id:Session.get('current_list')}); \n if (cats&&cats.items) \n { \n for(var i = 0; i<cats.items.length;i++) { \n var d = cats.items[i];  d.Lendee = d.LentTo ? d.LentTo : \"free\"; d.LendClass = d.LentTo ? \n \"label-important\" : \"label-success\"; \n }\n return cats.items; \n }\n } \n};\n\n```", "```js\nTemplate.list.items = function () {\nif (Session.equals('current_list',null)) return null; \n```", "```js\nelse \n{ \n  var cats = lists.findOne({_id:Session.get('current_list')}); \n```", "```js\n    if (cats&&cats.items)\n    { \n      for(var i = 0; i<cats.items.length;i++) {\n        var d = cats.items[i]; \n  d.Lendee = d.LentTo ? d.LentTo : \"free\"; \n  d.LendClass = d.LentTo ? \"label-important\" : \"label-success\";\n      }; \n      return cats.items; \n    }; \n  }; \n};\n```", "```js\n      return cats.items; \n    }; \n  }; \n}; // <---- ending bracket for Template.list.items function ----\n\nTemplate.list.list_selected = function() { \n return ((Session.get('current_list')!=null) && (!Session.equals('current_list',null))); \n}; \n\nTemplate.categories.list_status = function(){ \n if (Session.equals('current_list',this._id)) \n return \"\"; \n else \n return \" btn-inverse\"; \n}; \n\nTemplate.list.list_adding = function(){ \n return (Session.equals('list_adding',true)); \n}; \n\nTemplate.list.lendee_editing = function(){ \n return (Session.equals('lendee_input',this.Name)); \n};\n\n```", "```js\nTemplate.list.list_selected = function() { \nreturn ((Session.get('current_list')!=null) && (!Session.equals('current_list',null))); \n}\n```", "```js\nTemplate.categories.list_status = function(){ \nif (Session.equals('current_list',this._id)) \nreturn \"\"; \nelse \nreturn \"btn-inverse\"; \n}; \n```", "```js\nTemplate.list.list_adding = function(){ \n  return (Session.equals('list_adding',true)); \n}\n```", "```js\nTemplate.list.lendee_editing = function(){ \n  return (Session.equals('lendee_input',this.Name)); \n}\n```", "```js\n<li class=\"lending_item alert\"> \n  <button type=\"button\" class=\"close delete_item\" id=\"{{Name}}\">×</button> \n{{Name}} \n\n{{#if lendee_editing}}\n```", "```js\n{{#each lists}}\n  <div class=\"category btn btn-inverse\">\n    {{Category}} \n</div> \n\n{{/each}}\n```", "```js\n{{#each lists}}\n  <div class=\"category btn {{list_status}}\" id=\"{{_id}}\">\n    {{Category}}\n  </div> \n\n{{/each}}\n```", "```js\n        Session.set('adding_category', false);\n      } \n    } \n  }, \n  'focusout #add-category': function(e,t){\n    Session.set('adding_category',false);\n  }, \n 'click .category': selectCategory \n});\n```", "```js\nfunction selectCategory(e,t){ Session.set('current_list',this._id);\n}  \n\nTemplate.list.items = function () {\n...\n```", "```js\nTemplate.list.lendee_editing = function(){ \n  ... \n} \t \n\nTemplate.list.events({ \n 'click #btnAddItem': function (e,t){\n Session.set('list_adding',true); \n Meteor.flush(); \n focusText(t.find(\"#item_to_add\")); \n }, \n 'keyup #item_to_add': function (e,t){ \n if (e.which === 13) \n { \n addItem(Session.get('current_list'),e.target.value); \n Session.set('list_adding',false); \n } \n }, \n 'focusout #item_to_add': function(e,t){ \n Session.set('list_adding',false); \n }, \n 'click .delete_item': function(e,t){ \n removeItem(Session.get('current_list'),e.target.id); \n }, \n 'click .lendee' : function(e,t){\n Session.set('lendee_input',this.Name); \n Meteor.flush();\n focusText(t.find(\"#edit_lendee\"),this.LentTo); \n }, \n 'keyup #edit_lendee': function (e,t){ \n if (e.which === 13) \n { \n updateLendee(Session.get('current_list'),this.Name,\n e.target.value); \n Session.set('lendee_input',null); \n } \n if (e.which === 27) \n {\n Session.set('lendee_input',null); \n } \n } \n});\n\n}//<----this is the closing bracket for if(Meteor.is_client) ----\n```", "```js\nTemplate.list.events({ \n  'click #btnAddItem': function (e,t){\n    Session.set('list_adding',true); \n    Meteor.flush(); \n    focusText(t.find(\"#item_to_add\")); \n  },\n```", "```js\n  'keyup #item_to_add': function (e,t){\n    if (e.which === 13) \t   \n    {\n      addItem(Session.get('current_list'),e.target.value);\n      Session.set('list_adding',false);\n    }\n  },\n```", "```js\n  'focusout #item_to_add': function(e,t){\n    Session.set('list_adding',false);\n  }, \n```", "```js\n  'click .delete_item': function(e,t){ \n    removeItem(Session.get('current_list'),e.target.id); \n  },\n```", "```js\n  'click .lendee' : function(e,t){\n    Session.set('lendee_input',this.Name); \n    Meteor.flush();\n    focusText(t.find(\"#edit_lendee\"),this.LentTo); \t\n  }, \n```", "```js\n  'keyup #edit_lendee': function (e,t){\n    if (e.which === 13)\n    {\n      updateLendee(Session.get('current_list'),this.Name,\n      e.target.value); \n      Session.set('lendee_input',null); \n    }\n    if (e.which === 27) \n    { \t\t   \n      Session.set('lendee_input',null); \t  \n    }\n  }\n});\n```", "```js\nfunction addItem(list_id,item_name){\n if (!item_name&&!list_id)\n return; \n lists.update({_id:list_id}, \n {$addToSet:{items:{Name:item_name}}}); \n}\n\nTemplate.list.items = function () {\n...\n```", "```js\nfunction removeItem(list_id,item_name){ \nif (!item_name&&!list_id) \nreturn; \nlists.update({_id:list_id}, \n{$pull:{items:{Name:item_name}}}); \n}\n\nTemplate.list.items = function () {\n...\n```", "```js\nfunction updateLendee(list_id,item_name,lendee_name){\n var l = lists.findOne({\"_id\":list_id , \n \"items.Name\":item_name}); \n if (l&&l.items) \n { \n for (var i = 0; i<l.items.length; i++)\n { \n if (l.items[i].Name === item_name)\n {\n l.items[i].LentTo = lendee_name;\n } \n }\n lists.update({\"_id\":list_id},{$set:{\"items\":l.items}}); \n } \n};\n\nTemplate.list.items = function () {\n...\n```", "```js\n//this function puts our cursor where it needs to be. \nfunction focusText(i) {\n  i.focus();\n  i.select(); \n};\n```", "```js\n//this function puts our cursor where it needs to be. \nfunction focusText(i,val) {\n  i.focus(); \n i.value = val ? val : \"\"; \n  i.select(); \n};\n```", "```js\n/* CSS declarations go here */ \n#lendlib{ \n width:535px; \n margin:0 auto; \n} \n#categorybuttons{ \n width:100%; \n} \n#lending_list{\n list-style:none; \n margin:0; \n padding:0; \n} \n#lending_list li{ \n list-style:none; \n margin:5px; \n} \n#lending_list li.lending_item:hover{ \n background-color:#fc6; \n color:#630; \n} \n#lending_item{\n vertical-align:middle; \n} \n#add_item{\n padding-left:5px; \n} \n#btnAddItem{\n padding:10px;\n border-radius:5px; \n} \n#btnAddItem:hover{\n background-color:#B7F099; \n} \n#edit_lendee{\n padding-top:0; \n margin-top:-2px; \n} \n\n```"]