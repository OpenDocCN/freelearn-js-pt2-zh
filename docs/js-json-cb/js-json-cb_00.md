# 序言

JavaScript 对象表示法（JSON）迅速成为 Web 上结构化文档交换的通用语言，在很多领域中超越了 XML。这个成功的三个原因是很明显的：它与 JavaScript 配合良好，它简单，而且它 just works。然而，它成功的其他原因也很多。正如你将在本书的页面中看到的，它得到了各种语言和库的广泛支持，使得在各种场景下使用它变得非常容易。

在本书中，我提供了 JSON 常见用途的菜谱。你可以从头到尾阅读这本书，了解 JSON 在构建网络和独立应用程序中的所有用途。然而，它被组织成一本菜谱书，这样你可以快速查找解决当前问题的章节或菜谱。我建议快速浏览一下序言，了解内容分布，根据你的兴趣快速浏览第一章，*客户端 JSON 的读写*，或第二章，*服务器端 JSON 的读写*，然后直接跳到你最感兴趣的菜谱。

# 本书涵盖内容

第一章，*客户端 JSON 的读写*，提供了在多种客户端环境中读写 JSON 的菜谱，包括 JavaScript、C#、C++、Java、Perl 和 Python。

第二章，*服务器端 JSON 的读写*，采取了相反的视角，审视了 Clojure、C#、Node.js、PHP 和 Ruby 等典型服务器端语言中的 JSON。当然，你也可以用这些语言编写客户端应用程序，正如你也可以用 C#或 Java 编写服务器一样。因此，这些章节之间菜谱的划分有些任意性；选择一种语言，深入研究！

第三章，*在简单的 AJAX 应用程序中使用 JSON*，向你展示了如何将 JSON 应用于当今浏览器的数据交换。

第四章，*使用 JSON 在 jQuery 和 AngularJS 的 AJAX 应用程序中*，讨论了如何使用 JSON 与两个流行的网络框架，jQuery 和 Angular。

第五章，*使用 JSON 与 MongoDB*，向你展示了 MongoDB，一种流行的 NoSQL 数据库，如何使用 JSON 作为其存储文档格式，并提供了使用 MongoDB 作为网络应用程序中的 REST 服务的菜谱。

第六章，*使用 JSON 与 CouchDB*，向你展示了 CouchDB，另一种流行的 NoSQL 数据库，如何使用 JSON，以及如何在你的网络应用程序中使用 CouchDB 作为独立的 REST 服务。

第七章, *以类型安全的方式使用 JSON*, 探讨了你如何可以适应 JSON 的无类型性质，利用 C#，Java 和 TypeScript 等语言提供的类型安全，以减少你应用程序中的编程错误。

第八章, *使用 JSON 进行二进制数据传输*, 展示了你如何能够使用 JSON，即使它是一个基于文本的文档格式，如果你需要这样做，你仍然可以使用它来移动二进制数据。

第九章, *使用 JSONPath 和 LINQ 查询 JSON*, 有关于如何针对 JSON 文档编写查询，以获取你正在寻找的数据片段的菜谱。这与第五章, *使用 JSON 与 MongoDB* 和 第六章, *使用 JSON 与 CouchDB* 的菜谱结合时尤其强大。

第十章, *JSON 在移动平台上的应用*, 展示了使用 Android，iOS 和 Qt 的移动应用程序中使用 JSON 的菜谱。

# 本书你需要什么

与许多其他技术书籍不同，这本书专注于在其示例中涵盖广泛的支持技术。我不期望你立即就有经验或工具来尝试这本书中的每一个示例，尤其是。然而，列出几件事情是有帮助的。

你应该有一些编程经验，最好是 JavaScript。除非一个菜谱针对特定的编程语言，如 C#，这本书中的菜谱都是用 JavaScript 编写的。我这样做有两个原因。首先，因为 JSON 中的"J"代表 JavaScript（尽管它广泛适用于其他语言），而且，在当今时代，每个程序员至少应该对 JavaScript 有一个基本的了解。

就软件环境而言，一开始，你应该能够访问一个好的网络浏览器，如 Chrome，或者最近版本的 Safari，Firefox 或 Internet Explorer。你可以使用这些浏览器中的 JavaScript 运行时来尝试 JSON 并开始入门。

其次，很多客户端-服务器示例都使用了 Node.js。我选择 Node.js 进行服务器端示例编程，因为它也是 JavaScript，这意味着你在客户端和服务器之间移动时不需要跳过不同的语言语法。Node.js 在 Windows，Mac OS X 和 Linux 上运行得也很好，所以你应该不会遇到设置问题。

如果你对使用 JSON 与数据库感兴趣，CouchDB 或 MongoDB 是你的最佳选择，我在本书中讨论了这两者。你选择哪一个真的取决于你的领域和个人喜好。我在各种项目中使用了 5 年的 MongoDB，但最近喜欢上了 CouchDB 的一些功能和它对 RESTful 服务的集成支持。

最后，如果你是微软开发者，你可能会想特别注意本书中使用 Newtonsoft 的 Json.NET 的 C#示例。Json.NET 就是 C#中 JSON 应该的样子，它绝对值得你关注。

# 本书适合谁

如果你正在编写将结构化数据从一个地方移动到另一个地方的应用程序，这本书就是为你准备的。这尤其正确，如果你一直在使用 XML 来完成工作，因为完全有可能你用更少的代码和更少的数据开销在 JSON 中完成同样的工作。

尽管本书的章节在应用程序的客户端和服务器方面做了一些区分，但如果你是前端、后端或全栈开发者，都没有关系。使用 JSON 的原则适用于客户端和服务器，事实上，理解方程两边的开发人员通常会创建最好的应用程序。

# 章节

在本书中，你会找到几个经常出现的标题（准备，如何做，如何工作，还有更多，以及也见）。

为了清楚地说明如何完成一个食谱，我们按照以下方式使用这些节：

## 准备

本节告诉你食谱中会有什么内容，以及如何设置食谱所需的任何软件或任何初步设置。

## 如何做到…

本节包含遵循食谱所需的步骤。

## 它是如何工作的…

本节通常包括对上一节发生事情的详细解释。

## 还有更多…

本节包括关于食谱的额外信息，以使读者更加了解食谱。

## 也见

本节提供了对食谱其他有用信息的帮助性链接。

# 约定

在本书中，你会找到一些区分不同信息种类的文本样式。以下是这些样式的一些示例及其含义的解释。

文本中的代码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、假 URL、用户输入和 Twitter 处理方式如下所示："让我们进一步看看`loads`和`dumps`。"

代码块如下所示：

```js
function doAjax() {
var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp=new XMLHttpRequest();
  }
}
```

当我们希望将你的注意力吸引到代码块的某个特定部分时，相关的行或项目将被设置为粗体：

```js
function doAjax() {
var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // code for IE7+, Firefox, Chrome, Opera, Safari
 xmlhttp=new XMLHttpRequest();
  }
}
```

任何命令行输入或输出如下所示：

```js
# cp /usr/src/asterisk-addons/configs/cdr_mysql.conf.sample
 /etc/asterisk/cdr_mysql.conf

```

**新术语**和**重要词汇**以粗体显示。例如在菜单或对话框中看到的屏幕上的词，在文本中如下所示："然后，你可能想要去**更多工具** | **JavaScript 控制台**。"

### 注意

警告或重要说明以这样的框出现。

### 技巧

技巧和窍门像这样出现。

# 读者反馈

来自我们读者的反馈总是受欢迎的。让我们知道您对这本书的看法——您喜欢或不喜欢什么。读者反馈对我们来说很重要，因为它帮助我们开发出您会真正从中受益的标题。

要向我们发送一般性反馈，只需发送电子邮件`<feedback@packtpub.com>`，并在消息主题中提及书籍的标题。

如果您在某个话题上有专业知识，并且有兴趣撰写或为书籍做出贡献，请查看我们的作者指南：[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经成为 Packt 书籍的骄傲拥有者，我们有很多事情可以帮助您充分利用您的购买。

## 下载示例代码

您可以从[`www.packtpub.com`](http://www.packtpub.com)下载您购买的所有 Packt Publishing 书籍的示例代码文件。如果您在其他地方购买了此书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 错误

虽然我们已经尽一切努力确保我们的内容的准确性，但错误确实会发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——我们将非常感谢您能向我们报告。这样做，您可以节省其他读者的挫折感，并帮助我们改进本书的后续版本。如果您发现任何错误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**错误提交****表单**链接，并输入您错误的详细信息。一旦您的错误得到验证，您的提交将被接受，错误将被上传到我们的网站，或添加到该标题的错误部分现有的错误列表中。

要查看以前提交的错误，请前往[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，在搜索框中输入书籍名称。所需信息将在**错误**部分出现。

## 版权侵犯

版权材料的网上侵犯是一个持续存在的问题，涵盖所有媒体。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上以任何形式发现我们作品的非法副本，请立即提供给我们地址或网站名称，以便我们可以寻求解决方案。

如果您发现有疑似侵犯版权的材料，请通过`<copyright@packtpub.com>`联系我们。

我们感谢您在保护我们的作者和我们提供有价值内容的能力方面所提供的帮助。

## 问题

如果您与此书有任何问题，您可以联系`<questions@packtpub.com>`我们，我们会尽力解决问题。
